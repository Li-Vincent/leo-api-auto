webpackJsonp([2],{Cdx3:function(e,t,o){var r=o("sB3e"),n=o("lktj");o("uqUo")("keys",function(){return function(e){return n(r(e))}})},KQvT:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("fZjL"),n=o.n(r),i=(o("TIfe"),{data:function(){return{sysName:"Leo API AutoTest",loginForm:{email:"",password:""},loginRules:{username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:function(e,t,o){t?(t.toString().length<6||t.toString().length,o()):o(new Error("请输入密码"))}}]},passwordType:"password",loginLoading:!1,redirect:void 0,otherQuery:{}}},watch:{$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){e.$refs.password.focus()})},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("error login input!!"),!1;e.$store.dispatch("user/login",e.loginForm).then(function(){e.loginLoading=!1,e.$router.push({path:e.redirect||"/",query:e.otherQuery})}).catch(function(){e.loginLoading=!1})})},getOtherQuery:function(e){return n()(e).reduce(function(t,o){return"redirect"!==o&&(t[o]=e[o]),t},{})}}}),s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"leo-login"},[r("div",{staticClass:"leo-login-main"},[r("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[r("img",{staticStyle:{"margin-bottom":"8px"},attrs:{src:o("7Otq"),width:"100px",height:"90px"}}),e._v(" "),r("div",{staticStyle:{"font-size":"24px",color:"#e6a721"}},[e._v(e._s(e.sysName))])]),e._v(" "),r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{ref:"email",attrs:{placeholder:"请输入邮箱",name:"email",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("i",{class:"password"===e.passwordType?"fa fa-eye-slash":"fa fa-eye",attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"})])],1),e._v(" "),r("el-button",{staticClass:"login-btn",attrs:{id:"login-checkout",loading:e.loginLoading,type:"primary"},on:{click:e.handleLogin}},[e._v("\n        登录\n      ")])],1)],1)])},staticRenderFns:[]};var a=o("VU/8")(i,s,!1,function(e){o("uNpi")},"data-v-38fc0d2a",null);t.default=a.exports},fZjL:function(e,t,o){e.exports={default:o("jFbC"),__esModule:!0}},jFbC:function(e,t,o){o("Cdx3"),e.exports=o("FeBl").Object.keys},uNpi:function(e,t){},uqUo:function(e,t,o){var r=o("kM2E"),n=o("FeBl"),i=o("S82l");e.exports=function(e,t){var o=(n.Object||{})[e]||Object[e],s={};s[e]=t(o),r(r.S+r.F*i(function(){o(1)}),"Object",s)}}});
//# sourceMappingURL=2.59eb371a18ca9b3291b4.js.map