webpackJsonp([12],{"9kjF":function(e,r){},VjfW:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("Xxa5"),s=t.n(o),a=t("exGp"),l=t.n(a),i=t("vMJZ"),n={name:"Register",data:function(){return{registerLoading:!1,form:{email:"",password:"",roles:[]},formRules:{email:[{required:!0,type:"email",trigger:"blur"}],password:[{required:!0,validator:function(e,r,t){r?r.toString().length<6||r.toString().length>18?t(new Error("密码长度为6 - 18个字符")):t():t(new Error("请输入密码"))},trigger:"blur"}],roles:[{required:!0}]},rolesOption:[{name:"admin",description:"超级管理员"},{name:"project",description:"项目管理员"},{name:"user",description:"普通用户"}]}},methods:{submit:function(){var e=this;return l()(s.a.mark(function r(){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e.$refs.form.validate(function(r){if(r){var t={email:e.form.email,password:e.form.password,roles:e.form.roles};e.registerLoading=!0,Object(i.g)(t,{}).then(function(r){e.registerLoading=!1,"ok"===r.status?(e.$message({message:r.data,center:!0}),e.$router.push({name:"Users"})):e.$message.error({message:r.data,center:!0})})}else e.$message.error({message:"表单验证失败",center:!0})});case 1:case"end":return r.stop()}},r,e)}))()}}},m={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"leo-login"},[t("div",{staticClass:"leo-login-main"},[t("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.formRules}},[t("el-row",{attrs:{type:"flex",justify:"center",gutter:10}},[t("el-col",[t("el-form-item",[t("div",{staticClass:"title"},[e._v("用户注册")])])],1)],1),e._v(" "),t("el-row",{attrs:{type:"flex",justify:"center",gutter:10}},[t("el-col",[t("el-form-item",{attrs:{label:"用户邮箱:","label-width":"83px",prop:"email"}},[t("el-input",{model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1)],1)],1),e._v(" "),t("el-row",{attrs:{type:"flex",justify:"center",gutter:10}},[t("el-col",[t("el-form-item",{attrs:{label:"登录密码:",prop:"password","label-width":"83px"}},[t("el-input",{model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",[t("el-form-item",{attrs:{label:"用户角色:",prop:"roles","label-width":"83px"}},e._l(e.rolesOption,function(r,o){return t("el-checkbox-group",{key:o,model:{value:e.form.roles,callback:function(r){e.$set(e.form,"roles",r)},expression:"form.roles"}},[t("el-checkbox",{attrs:{label:r.name}},[e._v(e._s(r.description))])],1)}),1)],1)],1),e._v(" "),t("el-button",{staticClass:"login-btn",attrs:{id:"login-checkout",loading:e.registerLoading,type:"primary"},on:{click:e.submit}},[e._v("注册\n      ")])],1)],1)])},staticRenderFns:[]};var c=t("VU/8")(n,m,!1,function(e){t("9kjF")},"data-v-b2bf6d5e",null);r.default=c.exports}});
//# sourceMappingURL=12.a84bc2ed10515cea7457.js.map