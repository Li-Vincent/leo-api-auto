{"version":3,"sources":["webpack:///src/components/config/dbConfig/DBEnvConnect.vue","webpack:///./src/components/config/dbConfig/DBEnvConnect.vue?27fa","webpack:///./src/components/config/dbConfig/DBEnvConnect.vue"],"names":["DBEnvConnect","name","data","dbConfigName","listLoading","statusChangeLoading","selects","testEnvs","dbConfig","dbType","dbEnvConnects","testEnvId","testEnvName","dbHost","dbPort","dbUser","dbPassword","dbName","formVisible","loading","formRules","required","message","trigger","min","max","type","form","methods","selectsChange","this","reportRowStyle","_ref","row","rowIndex","status","ReportTableRow","_ref2","getTestEnvList","_this","Object","envConfig","then","res","rows","$message","error","center","catch","getDBConfigInfo","_this2","$route","params","db_config_id","getDBEnvConnects","_this3","_loop","i","env","dbEnvConnect","dbConfigId","Content-Type","push","handleEdit","index","assign_default","submit","_this4","self","$refs","validate","valid","$confirm","trim","lastUpdateUser","$store","getters","email","resetFields","watch","handler","val","oldVal","deep","created","dbConfig_DBEnvConnect","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","meta","title","_e","staticStyle","padding-bottom","attrs","span","inline","nativeOn","$event","preventDefault","text-decoration","color","to","on","click","$router","back","margin-right","float","directives","rawName","value","expression","width","row-style","row-class-name","highlight-current-row","selection-change","min-width","prop","label","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","size","$index","left","visible","close-on-click-modal","update:visible","ref","model","rules","label-width","disabled","callback","$$v","$set","placeholder","auto-complete","_n","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.8b2fa805b55f3ac9e0ad.js","sourcesContent":["<template>\n  <section>\n    <!--页面title-->\n    <strong class=\"title\">{{$route.meta.title}} <span v-if=\"dbConfig.name\"> - DB: {{dbConfig.name}}</span> </strong>\n    <!--工具条-->\n    <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px\">\n      <el-form :inline=\"true\" @submit.native.prevent>\n        <router-link to=\"\" style=\"text-decoration: none;color: aliceblue;\">\n          <el-button class=\"return-list\" @click=\"$router.back(-1)\">\n            <i class=\"el-icon-d-arrow-left\" style=\"margin-right: 5px\"></i>返回\n          </el-button>\n        </router-link>\n        <el-form-item style=\"float: right; margin-right: 95px\">\n          <el-button>*请点击列表中元素的空白处以刷新数据*</el-button>\n        </el-form-item>\n      </el-form>\n    </el-col>\n\n    <!--DB列表-->\n    <el-table :data=\"dbEnvConnects\" :row-style=\"reportRowStyle\" :row-class-name=\"ReportTableRow\"\n              highlight-current-row v-loading=\"listLoading\" @selection-change=\"selectsChange\" style=\"width: 100%;\">\n      <el-table-column type=\"selection\" min-width=\"5%\">\n      </el-table-column>\n      <el-table-column prop=\"testEnvName\" label=\"环境名称\" min-width=\"15%\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column prop=\"dbType\" label=\"DB Type\" min-width=\"20%\" show-overflow-tooltip>\n        <template slot-scope=\"scope\">\n          <span v-if=\"dbConfig.dbType\">{{dbConfig.dbType}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"dbHost\" label=\"DB Host\" min-width=\"20%\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column prop=\"dbPort\" label=\"DB Port\" min-width=\"20%\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column prop=\"dbUser\" label=\"DB User\" min-width=\"20%\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column prop=\"dbPassword\" label=\"DB Password\" min-width=\"20%\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column prop=\"dbName\" label=\"Database Name\" min-width=\"20%\" show-overflow-tooltip>\n      </el-table-column>\n      <el-table-column label=\"操作\" min-width=\"30%\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--编辑界面-->\n    <el-dialog title=\"配置连接信息\" :visible.sync=\"formVisible\"\n               :close-on-click-modal=\"false\"\n               style=\"width: 60%; left: 20%\">\n      <el-form :model=\"form\" :rules=\"formRules\" ref=\"form\" label-width=\"100px\">\n        <el-form-item label=\"环境名称\" prop=\"testEnvName\">\n          <el-input v-model=\"form.testEnvName\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB Type\" prop=\"dbType\">\n          <el-input v-model=\"form.dbType\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB Host\" prop='dbHost'>\n          <el-input placeholder=\"请输入DB Host\" v-model=\"form.dbHost\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB Port\" prop='dbPort'>\n          <el-input placeholder=\"请输入DB Port\" v-model.number=\"form.dbPort\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB User\" prop='dbUser'>\n          <el-input placeholder=\"请输入DB Username,可能为空\" v-model=\"form.dbUser\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB Password\" prop='dbPassword'>\n          <el-input placeholder=\"请输入DB Password,可能为空\" v-model=\"form.dbPassword\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"DB Name\" prop='dbName'>\n          <el-input placeholder=\"请输入DB Name\" v-model=\"form.dbName\" auto-complete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native=\"formVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click.native=\"submit\" :loading=\"loading\">提交</el-button>\n      </div>\n    </el-dialog>\n  </section>\n</template>\n\n<script>\n    import {getEnvConfigs} from \"../../../api/envConfig\";\n    import {getDBEnvConnect, getDBConfig, updateDBEnvConnect} from \"../../../api/dbConfig\";\n\n    export default {\n        name: \"DBEnvConnect\",\n        data() {\n            return {\n                dbConfigName: \"\",\n                listLoading: false,\n                statusChangeLoading: false,\n                selects: [],//列表选中列\n                testEnvs: [],\n                dbConfig: {\n                    name: '',\n                    dbType: ''\n                },\n                dbEnvConnects: [{\n                    testEnvId: '',\n                    testEnvName: '',\n                    dbHost: '',\n                    dbPort: '',\n                    dbUser: '',\n                    dbPassword: '',\n                    dbName: ''\n                }],\n                formVisible: false,//dialog是否显示\n                loading: false,\n                formRules: {\n                    dbHost: [\n                        {required: true, message: '请输入Host', trigger: 'blur'},\n                        {min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur'}\n                    ],\n                    dbPort: [\n                        {required: true, message: '请输入Port', type: 'number', trigger: 'blur'}\n                    ],\n                    dbName: [\n                        {required: true, message: '请输入Database Name', trigger: 'blur'}\n                    ]\n                },\n                //编辑界面数据\n                form: {\n                    testEnvId: '',\n                    testEnvName: '',\n                    dbType: '',\n                    dbHost: '',\n                    dbPort: '',\n                    dbUser: '',\n                    dbPassword: '',\n                    dbName: ''\n                },\n            }\n        },\n        methods: {\n            selectsChange: function (selects) {\n                this.selects = selects;\n            },\n            // 修改table tr行的背景色\n            reportRowStyle({row, rowIndex}) {\n                if (!(row.status === true))\n                    return 'background-color: #FFF'\n                else {\n                    return ''\n                }\n            },\n            ReportTableRow({row, rowIndex}) {\n                return 'reportTableRow';\n            },\n            getTestEnvList() {\n                let header = {};\n                let params = {}\n                getEnvConfigs(params, header).then((res) => {\n                    let {status, data} = res;\n                    if (status === 'ok') {\n                        this.testEnvs = data.rows\n                    } else {\n                        this.$message.error({\n                            message: data,\n                            center: true,\n                        })\n                    }\n                    return data.rows\n                }).catch((error) => {\n                    this.$message.error({\n                        message: '环境列表获取失败，请稍后刷新重试哦~',\n                        center: true,\n                    });\n                });\n            },\n            getDBConfigInfo() {\n                getDBConfig(this.$route.params.db_config_id).then((res) => {\n                    let {status, data} = res;\n                    if (status === 'ok') {\n                        this.dbConfig = data\n                    } else {\n                        this.$message.error({\n                            message: data,\n                            center: true,\n                        })\n                    }\n                }).catch((error) => {\n                    this.$message.error({\n                        message: 'DB Config获取失败，请稍后刷新重试哦~',\n                        center: true,\n                    });\n                });\n            },\n            getDBEnvConnects() {\n                let testEnvs = this.testEnvs;\n                this.dbEnvConnects = [];\n                for (let i in testEnvs) {\n                    let env = testEnvs[i];\n                    let dbEnvConnect = {}\n                    dbEnvConnect['testEnvId'] = env['_id'];\n                    dbEnvConnect['testEnvName'] = env['name'];\n                    let header = {\n                        'Content-Type': 'application/json'\n                    }\n                    let params = {\n                        testEnvId: env['_id'],\n                        dbConfigId: this.$route.params.db_config_id\n                    }\n                    getDBEnvConnect(params, header).then((res) => {\n                        let {status, data} = res;\n                        if (status === 'ok') {\n                            if (data['dbHost']) {\n                                dbEnvConnect['dbHost'] = data['dbHost'];\n                                dbEnvConnect['dbPort'] = data['dbPort'];\n                                dbEnvConnect['dbUser'] = data['dbUser'];\n                                dbEnvConnect['dbPassword'] = data['dbPassword'];\n                                dbEnvConnect['dbName'] = data['dbName'];\n                            }\n                        } else {\n                            this.$message.error({\n                                message: data,\n                                center: true,\n                            })\n                        }\n                    }).catch((error) => {\n                        this.$message.error({\n                            message: 'DB连接获取失败，请稍后刷新重试哦~',\n                            center: true,\n                        });\n                    });\n                    this.dbEnvConnects.push(dbEnvConnect)\n                }\n            },\n            //显示编辑界面\n            handleEdit: function (index, row) {\n                this.formVisible = true;\n                this.form = Object.assign({}, this.form, row);\n                this.form.dbType = this.dbConfig.dbType;\n            },\n            //提交修改\n            submit: function () {\n                let self = this;\n                this.$refs.form.validate((valid) => {\n                    if (valid) {\n                        this.$confirm('确认提交吗？', '提示', {}).then(() => {\n                            self.loading = true;\n                            let headers = {\n                                \"Content-Type\": \"application/json\",\n                            };\n                            let params = {\n                                dbConfigId: this.$route.params.db_config_id,\n                                testEnvId: self.form.testEnvId,\n                                dbType: self.form.dbType.trim(),\n                                dbHost: self.form.dbHost.trim(),\n                                dbPort: self.form.dbPort,\n                                dbName: self.form.dbName.trim(),\n                                lastUpdateUser: this.$store.getters.email || 'anonymous'\n                            };\n                            if (self.form.dbUser && self.form.dbPassword) {\n                                params['dbUser'] = self.form.dbUser.trim();\n                                params['dbPassword'] = self.form.dbPassword.trim();\n                            }\n                            updateDBEnvConnect(params, headers).then(res => {\n                                let {status, data} = res;\n                                self.loading = false;\n                                if (status === 'ok') {\n                                    self.$message({\n                                        message: '修改成功',\n                                        center: true,\n                                        type: 'success'\n                                    });\n                                    self.$refs['form'].resetFields();\n                                    self.formVisible = false;\n                                    self.getDBEnvConnects()\n                                } else {\n                                    self.$message.error({\n                                        message: data,\n                                        center: true,\n                                    })\n                                    self.getDBEnvConnects()\n                                }\n                            });\n                        });\n                    }\n                });\n            },\n        },\n        watch: {\n            testEnvs: {//深度监听，可监听到对象、数组的变化\n                handler(val, oldVal) {\n                    this.getDBEnvConnects()\n                },\n                deep: true\n            }\n        },\n        created() {\n            this.getTestEnvList();\n            this.getDBConfigInfo();\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n  .title {\n    float: left;\n    color: #475669;\n    font-size: 25px;\n    margin: 10px 5px;\n    font-family: Arial;\n\n    span {\n      font-size: 20px;\n    }\n  }\n\n  .return-list {\n    margin-top: 0px;\n    margin-bottom: 10px;\n    margin-left: 20px;\n    border-radius: 25px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/config/dbConfig/DBEnvConnect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('strong',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$route.meta.title)+\" \"),(_vm.dbConfig.name)?_c('span',[_vm._v(\" - DB: \"+_vm._s(_vm.dbConfig.name))]):_vm._e()]),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\"},attrs:{\"span\":24}},[_c('el-form',{attrs:{\"inline\":true},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"aliceblue\"},attrs:{\"to\":\"\"}},[_c('el-button',{staticClass:\"return-list\",on:{\"click\":function($event){return _vm.$router.back(-1)}}},[_c('i',{staticClass:\"el-icon-d-arrow-left\",staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\"返回\\n        \")])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"float\":\"right\",\"margin-right\":\"95px\"}},[_c('el-button',[_vm._v(\"*请点击列表中元素的空白处以刷新数据*\")])],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dbEnvConnects,\"row-style\":_vm.reportRowStyle,\"row-class-name\":_vm.ReportTableRow,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selectsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"min-width\":\"5%\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"testEnvName\",\"label\":\"环境名称\",\"min-width\":\"15%\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dbType\",\"label\":\"DB Type\",\"min-width\":\"20%\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.dbConfig.dbType)?_c('span',[_vm._v(_vm._s(_vm.dbConfig.dbType))]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dbHost\",\"label\":\"DB Host\",\"min-width\":\"20%\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dbPort\",\"label\":\"DB Port\",\"min-width\":\"20%\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dbUser\",\"label\":\"DB User\",\"min-width\":\"20%\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dbPassword\",\"label\":\"DB Password\",\"min-width\":\"20%\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"dbName\",\"label\":\"Database Name\",\"min-width\":\"20%\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"30%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{staticStyle:{\"width\":\"60%\",\"left\":\"20%\"},attrs:{\"title\":\"配置连接信息\",\"visible\":_vm.formVisible,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.formRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"环境名称\",\"prop\":\"testEnvName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.testEnvName),callback:function ($$v) {_vm.$set(_vm.form, \"testEnvName\", $$v)},expression:\"form.testEnvName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"DB Type\",\"prop\":\"dbType\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.form.dbType),callback:function ($$v) {_vm.$set(_vm.form, \"dbType\", $$v)},expression:\"form.dbType\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"DB Host\",\"prop\":\"dbHost\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入DB Host\",\"auto-complete\":\"off\"},model:{value:(_vm.form.dbHost),callback:function ($$v) {_vm.$set(_vm.form, \"dbHost\", $$v)},expression:\"form.dbHost\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"DB Port\",\"prop\":\"dbPort\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入DB Port\",\"auto-complete\":\"off\"},model:{value:(_vm.form.dbPort),callback:function ($$v) {_vm.$set(_vm.form, \"dbPort\", _vm._n($$v))},expression:\"form.dbPort\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"DB User\",\"prop\":\"dbUser\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入DB Username,可能为空\",\"auto-complete\":\"off\"},model:{value:(_vm.form.dbUser),callback:function ($$v) {_vm.$set(_vm.form, \"dbUser\", $$v)},expression:\"form.dbUser\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"DB Password\",\"prop\":\"dbPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入DB Password,可能为空\",\"auto-complete\":\"off\"},model:{value:(_vm.form.dbPassword),callback:function ($$v) {_vm.$set(_vm.form, \"dbPassword\", $$v)},expression:\"form.dbPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"DB Name\",\"prop\":\"dbName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入DB Name\",\"auto-complete\":\"off\"},model:{value:(_vm.form.dbName),callback:function ($$v) {_vm.$set(_vm.form, \"dbName\", $$v)},expression:\"form.dbName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.formVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){return _vm.submit($event)}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0db992e6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/config/dbConfig/DBEnvConnect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0db992e6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"D:\\\\\\\\PycharmProjects\\\\\\\\leo-api-auto\\\\\\\\frontend\\\\\\\\element-variables.scss\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DBEnvConnect.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DBEnvConnect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DBEnvConnect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0db992e6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DBEnvConnect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0db992e6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/config/dbConfig/DBEnvConnect.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}