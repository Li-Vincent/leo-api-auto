# 项目更新日志

## V1 版本

### 2019-11-11

项目初始化，框架搭建flask,vue,mongo_orm, 前后端分离

### 2019-12-05

1. 添加数据models
2. 添加controllers
3. 添加功能:

> project管理  
> testSuite管理  
> testCase管理  
> testEnv管理  
> mail管理  
> cronJob管理  
> 用例执行引擎

4. 前端页面
5. 路由配置

### 2019-12-15

添加用户权限管理模块，支持3种权限 管理员/Project管理/普通用户  
不同API，需要不同权限访问

### 2020-01-07

添加功能 测试用例api调用前，数据初始化功能

### 2020-01-09

添加功能 首次部署，注册管理员账号

### 2020-01-13

添加日志记录模块

### 2020-01-15

添加功能 复制测试用例功能

### 2020-01-16

添加功能 复制测试用例组功能

### 2020-06-05

添加功能 用例导入/导出功能，支持将用例导出到excel/从excel导入测试用例

### 2020-06-10

实现Docker部署，docker部署教程

### 2020-06-15

添加功能性API

1. 等待n秒
2. 获取13位当前时间戳

### 2020-06-17

修改前端 element-ui theme，支持快速变换主题颜色

### 2020-06-18

解决api case 导入导出的 数据初始化

### 2020-06-18

解决接口返回不是json的情况

    if 校验查询 listsize=1 
	    if 满足切片规则，
	    then 则使用切片方法取值
	    else 使用正则匹配取值

### 2020-06-18

解决邮件模板时区问题

## V2 版本

### 2020-06-21

1. 将环境配置移到平台层级
2. 将DB配置移到平台层级

### 2020-06-22

1. 将邮件配置移到平台层级，为邮件添加 收件人分组
2. 定时任务执行时，选择正确的环境配置
3. 定时任务 邮件接收人 可选择分组

### 2020-06-28

定时任务执行时，查询收件人，并发送邮件

### 2020-06-30

重新定义各角色权限  
超级管理员:
> 拥有所有权限，相比项目管理员额外权限为：
>> 用户管理: 添加用户，更改用户角色，初始化用户密码  
> > 环境配置: 添加/编辑环境配置，添加/编辑DB连接配置  
> > 邮件配置: 发件人配置，添加/编辑收件人分组

项目管理员:
> 相比普通用户额外权限为:
>> Project管理: 可以添加/编辑project  
> > 配置定时任务  
> > 邮件配置: 收件人管理

普通用户:
> 用户: 密码修改  
> 用例管理: 用例编辑，调试，全局参数变量添加/编辑，批量导入用例组/导出用例组   
> report查看

### 2020-06-30

为关键操作添加log

### 2020-07-01

1. 添加系统结构图
2. 美化 修改环境配置/邮件配置图标
3. FIX BUG 禁用环境报错
4. 添加使用教程： 1_用户管理

### 2020-07-02

1. 定时任务执行后，不会向 处于禁用状态的 邮件分组 或收件人发送邮件
2. 收件人列表查询条件 由名称 变更为 邮件地址
3. 添加使用教程： 3_邮件配置

### 2020-07-03

添加使用教程： 2_环境配置

### 2020-07-05

添加功能 单个接口调试时，记住cookie，保存的cookie有效期为30分钟，便于调试需要cookie认证的API

### 2020-07-08

FIX BUG 编辑用例页面，数据初始化，无法获取DB信息

### 2020-07-13

添加使用教程： 4_接口测试

### 2020-07-14

FIX BUG 部署时，无法使用环境变量:LEO_API_PLATFORM_PORT，使用了固定值8888

### 2020-07-16

1. 将TestSuite的Priority字段设为必填
2. 数据初始化支持 Mysql
3. 定时邮件链接从环境变量中取值：LEO_API_PLATFORM_HOST
4. 部署时，直接使用环境变量设置的端口：LEO_API_PLATFORM_PORT
5. docker部署 只部署后端，不rebuild前端

### 2020-07-23

添加功能 定时任务执行后触发邮件，可设置是否失败才触发

### 2020-07-24

添加功能 为环境配置中的domain 添加 protocol选项(http/https), 支持不同环境使用不同协议

### 2020-07-27

添加功能 调试用例时，可以引用前序接口设置的变量

### 2020-07-29

修改教程 环境配置 protocol

### 2020-10-24

FIX BUG testcase 和testsuite分页问题 FIX BUG 记录分页信息，返回自动跳转分页

### 2020-10-25

FIX BUG 如果testcase不覆盖HTTP协议，执行接口用例时，无法获取环境设置中的请求协议

### 2020-10-27

1. FIX BUG 添加用户报错register user failed. - name 'email' is not defined
2. FIX BUG 由于Flask-Security 自带login页面的模板，影响前端/login路由，需禁用Flask-Security自带模板 register_blueprint=False

## V3 版本

### 2020-11-09

支持 接口请求参数 form-data格式

### 2020-11-11

FIX BUG 嵌套路由，导航 对应Menu没有高亮显示

### 2020-11-20

1. FIX BUG 右键新tab打开link，登录状态消失
2. 改善一些DB操作相关的用法
3. 增加/修复Log输出

### 2020-12-15

1. 增加Plan模块，可跨项目执行，根据priority筛选执行用例
2. FIX BUG UpdateEmail失败
3. FIX BUG Json正则校验 选取字典列表中指定条件的字典中的某个字段进行判断

### 2021-01-05

1. FIX BUG planReport 项目报告没有展示接口用例详情
2. 添加功能 为Plan增加 curl Script, 间接实现CI

### 2021-02-07

1. 添加功能 删除指定日期之前的report
2. 为Plan 模块 增加操作教程

### 2021-02-19

FIX BUG 邮件模板支持中文

### 2021-02-20

添加功能 删除用户

### 2021-02-22

1. FIX BUG 定时任务：当用例全部PASS触发邮件失败
2. 完善邮件模板
3. 添加功能 测试计划、定时任务，支持 企业微信通知

### 2021-02-23

1. 添加功能 测试计划、定时任务，支持 钉钉通知
2. FIX BUG 用例导入时用例组为空导入失败

### 2021-02-24

1. FIX BUG Add app_context for LOGGER, Add User to some logs
2. FIX BUG 删除TestSuite,同时删除TestSuite下的TestCase
3. FIX BUG 删除Project,同时删除Project下的TestSuites和TestCases

### 2021-02-25

增加接口Mock模块

### 2021-03-05

修改用户权限: 增加项目隔离

### 2021-03-22

FIX BUG EditTestCase页面不应该默认显示CheckResponseBody Tab

### 2021-03-30

添加功能 为接口Mock增加延迟功能

### 2021-04-06

1. 添加功能 为接口用例增加延迟调用功能
2. 添加功能 为接口用例增加 耗时校验， 耗时超过指定时间 标记为Fail

### 2021-04-08

添加功能 为接口用例列表添加批量测试功能

### 2021-04-09

添加功能 接口请求参数支持 faker 随机函数引用替换

### TODO V3

FIX BUG Excel导入导出用例 - DelaySeconds, checkSpendSeconds 字段 相关问题

完善教程 测试报告增加筛选功能（成功/失败）

多语言，支持中英文
